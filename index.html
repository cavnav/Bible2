<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <script src="BibleSource.js"></script>
	<!--<script type="module">
		import {showBooks} from "./search.js";
    import "./search.js"; 
	</script>-->
    <script src="ym.js"></script>
    <link rel="stylesheet" href="styles.css" />
    <title>Библия. Полный текст Священного Писания.</title>
  </head>

  <body>
    <input
      type="text"
      placeholder="введите книгу"
      onKeyup="showItems(this.value)"
      onClick="showItems(this.value)"
    />
    <div id="booksSuggestion"></div>
      
    <div id="sourceEl"></div>




    
    <script src="/books/booksIdMap.js">
      /*const BOOKS = [{
              id: "001",
              name: "Бытие",
          },
          {
              id: "002",
              name: "Исход",
          },
          {
              id: "003",
              name: "Левит",
          },
      ];*/

      function getSuggestions(input) {
          return BOOKS.filter((book) => book.name.toLowerCase().includes(input.toLowerCase()));
      }

      function showItems(input) {
          const suggestions = getSuggestions(input);
          const ul = document.createElement('ul');
          ul.onclick = (event) => console.log(event.target.dataset.id);
          const items = `${
              suggestions.map((book) => `<li data-id="${book.id}">${book.name}</li>`).join('')
          }`;

          ul.innerHTML = items;

          booksSuggestion.innerHTML = "";
          booksSuggestion.append(ul);
      }
  </script>
  



    <script>
      sourceEl.innerHTML = source;
    </script>
  </body>
</html>
